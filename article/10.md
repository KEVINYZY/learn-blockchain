# 

一个故事开始。

一万多向往自由，不愿意被领导、被剥削、被压迫，且具有一般自私利己的人。其中不乏一些各个领域的科学家。作为第一批人员移民 火星。在火星的目的就是生存和发展人类 文明。
因为飞船载重量有限，所以不能带过多的东西上飞船。只能带必需品，比如种子等。

飞船启动后，地球就再也无法为他们提供补给。到火星后，第一任务自然是活下去。第二任务就是活的更好。
由于飞船上自带的物资非常少，所以他们必须要想出一套方法怎样分配物资，和怎样快速的发展生产力。

眼前最重要的问题，1.居住问题，不能一直居住在飞船上。2.粮水问题。两种统称为民生问题。

没人有人会愿意主动下船去盖房子和去开垦一块土地去种土豆（人都自私）。如果这样发展下去，消耗完粮食后大家都会被饿死。飞船没有船长，因为大家都不希望被人领导。每个人都是平等的。

如果这个问题不解决，必定会因为粮食短缺引起战争。

有经济学家，提出一个理论。他说，每个人的劳动成果都应该被记录下来。劳动的人应该享有自己的劳动成果，同时可以把自己的劳动成果分享给别人 或者交换 其他人的劳动成果。例如 可以用在火星上的房子 换 一吨土豆。

这是，有个会计站出来说，“我帮大家记账。大家都信任我就行。我每个月只收50个单位的劳务费。”

会计被杀死。因为大家都知道，如都信任他了，就有出现权利集中，有了权利就可以作恶。

这时候有个叫，阿聪说，既然大家都不相互信任，不如每个人都记录，所有人的劳动成果和交易记录。这样不用信任每个人或者某一个小组。

阿聪做了一些规定，希望得到大家的认可。他说，大家每人制作一个本子。本子每页有4000行，每行记录一条交易记录。10分钟 翻页一次。无论是否这页面记满了。这样最多 4000/10*60 =6.7 笔每秒。
同一时间必须只有一个人记录是有效的，要不然大家的账就会出现不数据不一致。同时标明 页码，而且转账的手续费也都归记录此页账目的人所有。而且，需要记录上一页面的hash值。

而且谁记录这10分钟内的 转账记录，就可以凭空给自己记录一笔 50个单位的 收入。这50个单位的收入，作为记录 本页 记录奖励。

既然有了奖励，大家都争着记账了。阿聪说，谁要想获得 某10分钟内的 记账权。谁就会得到一个魔方，还原魔方最快的就可以有这个记账权 ，账本里，还要写 还原魔方的步骤(每个人得到的魔方不一样fun(上衣页账目的hash值,拿到魔方的人)，每次的也都不一样)。

然后将自己记录的10分钟内的交易记录 和 凭空给自己生成的50个单位，一起复制一份交给邻居。邻居在复制给他的邻居。所有人都会对这十分钟内的记录做一次校验，而且还会按记账人的步骤去还原魔方（如果无法还原魔方，这丢弃这页记录，直到有可以还原的为止）。防止作假。



谁要将自己的一笔 【别人转给自己的一笔记录的余额】  转给其他人，需要对这笔 记录的余额进行签名，然后自己写草稿纸上，同时告诉邻居，邻居也告诉他的邻居，大家都写草稿纸上。

直到有人还原了魔方。这个人，就把自己10分钟内的草稿纸上的交易，写入 账本里。最多 只能写4000笔。如果比4000笔多，他肯定先记录 手续费高的。因为手续费也归他。


如果有同时还原了魔方。并且记录在自己的本子上了。并且一起将 此页记录告诉邻居，邻居再告诉邻居。那么以谁的为准？

假设开始1万个人都记账。船头一个操场，船尾一个操场。正好，两边同时还原魔方。一起广播给邻居自己的记账结果 和 还原魔方的步骤。 假设该页码为 第10页。船头为 10a，船尾为10b。

假设 大家记录的速度和验证结果的速度一样。那么，在船中间的人，就会是最后一个得到结果的。但是，大家不能站成一个直线吧，邻居前后左右，上下铺都有。

但总会有人最后一个收到结果。也有人可能收到来自船头和船尾的结果。

假设a是第5000个收到船头的结果（10a）（交易记录和魔方）a开始还原拿到的魔法。、
b是第5000个收到船尾的结果的（10b）（交易记录和魔方）b开始还原拿到的魔法。

ab是邻居。a 给b 来自船头的结果（10a），b给a来自船尾的消息（10b）。

a已经还原一会来自船头的魔方了，b同理。

**```考虑一下 a会接受来自己船尾的结果（10b）吗？b同理。```**

注意，比a靠近船头的 第4999个收到船头结果的人，也是b的邻居。a1他接受 b的消息（10b）吗？同理，b1。

在一个账簿上，10页只能有一个。要不然就会出现多个版本的账簿。大家就不知道那个是真实的。



提示一下，10000个人，各自还原自己的魔方（此魔方不是3阶，且没有规律）的数学期望时间是 10分钟，一个人还原自己的魔方 期望时间是多久？ 10000* 10 分吧。





```
去中心化记账，就是不能信任某一个人，而是大家都可以记账，都有记账权。都可以竞争记账权。
不信任某一个人或者组织。因为他们会作恶。
整个账簿就相当于区块链。
每一页就是一个区块。
每10分钟 记录一页。
下一页，必须跟着上一页。
比特币就是一种特殊的区块链，它只能记账。后面我会将一些其他的区块链，如以太坊，还能运行脚本。

比特币使用UTXO （Unspent Transaction Output，“未花费事务输出”）模型。
utxo模型就是，用流水计算余额。比特币并不会记录某一地址 余额多少。而是查询对应地址 有多少入账，有多少出账，计算出还剩多少。

挖矿，就是计算魔方的解。总得有一种方法，决定谁来记录 这一页的账。
挖矿还要其他作用，例如故意拖慢记账速度和让攻击成本提高。（稍后逐渐讲解）。

比特币也是，自己花一笔比特币，就需要将这个事件告诉邻居，邻居再告诉邻居。达到全部人都知道 的目的。（大家都知道了，你还想抵赖吗？）

我就想抵赖，有办法吗？有。稍后文章介绍。

```


















