# 区块链防止作恶


a不能凭空产生很多手同时去解魔方。

次数，a想到一个办法。他说服了自己的亲朋好友，假设共联合10人（含a自己），让大家都去解a的魔方，a收到魔方后，就将 自己的魔方复制 分发给 10个人（含自己）。

这时候 10个人一起解。他获得 记账权的概率 就是 10/10000。 自己持有的计算力/全网的计算力。
然后a承诺，只要自己获得记账权，并获得50个单位的奖励和记账的手续费，就将收入平均分给10个人。

此时，a就有一个家族了。这个家族 在区块链里 叫做矿池。

读者也会发现。这与开始提出的，每个人都有权利记账，实现人人平等的初衷 有悖。

假设a联合了1万人（全部），那么不久跟开始 第一个会计提出来的那个一样了么？

如果大家都信任a，a就可以任意改账，给自己加钱。

所以在现有状况下，如果a将近达到这种状态，势必会引起很多人反对，必定会引起冲突，甚至战争。

实际上，当a达到快联合一半人的时候 就会引起冲突。

假设a 联合了5000人。此时，a说，一页记录4000笔，太少，不如改成4万笔吧。有5000人听他的，5000人不听，这时候，就会出现两个版本的账簿。导致本来 一条链子，变成2条。从而形成硬分叉。

还要更可怕的。



a已经联合了5001个人，他完全可以 5001个人 杀死另外4999人，从而掠夺。但是这样代价比较大。
a很聪明，他有更好的办法实现掠夺。



a有全网 5001/10000的人，他给b转一笔钱购买b的一顿土豆。此时，a转给b的消息被广播出去，某一人解出魔方，记录下来。（假设为 100页）。

a 获得 第100页的记账权是 50.01%。非a为 49.99%。

无论是a还是非a，记录了这一笔账，都会被广播出去。b确实看到了，然后把土豆给了a。

此时，a开始作恶。

因为a已经拿着土豆跑了。

a说，刚才那笔钱不算数。a开始重新 解第100页的魔方并不记录a给b转账的事情。

非a，已经记录了 a转给b钱的事实，在第100页。此时，a只需要让非a 不承认 原来的第100页账即可。


| 时间  | 页码  a 不含（a转给b的账目）概率  | 非a（含）概率 | 
| ------|----- | ---- |
|0  | 100 0 |100 1 |
|10 | 100 50.01% | 101 49.99%|

？？？？



a 有 50.01% 的计算力，非a有49.99%。

a 落后 非a一个块。这是一个追击问题。总有一个时间，a会超过非a。此时，非a，会放弃 原来 包含（a转给b买土豆的钱）那条分支。（原理见11.md）

a就成功的骗取了 b的一顿土豆。

这就是51% 攻击。  当然不一定能攻击成功。但是从概率上有可能。a持有的人越多，成功概率越高。

最极端的情况，除了b以外，大家都信任a。


因为大家都是聪明人，如果让a联合了50% 以上的人，今天他坑了b，明天就会坑到自己的头上，所以大家都不会容许这种情况发生。

一旦发生了，这账簿也就失去了公信力。大家就不信这账簿，他的存在也就没有意义了。注意，这个账簿 只记录谁有未花销的收入，不能记录谁欠别人钱。也就是不能出现负债。 不会出现某人资产是负数。

```
本节，讲 矿池，和51%攻击的基础概念。

讲到这里，读者也该明白，什么是比特币，就是一堆账目。确认这笔钱谁有权利转给别人。

```


到这里，读者发现，实际上，大家都在解魔方，没人去种土豆，没人去开垦荒地发展房地产，实际上没有任何意义。本质上这账簿并没有创造价值？？


是这样的。

所以，大家都决定 不用人去解魔方了，改成程序。
将上面的规则 写成程序。让 计算机去做。
人们可以走出船舱，去发展发地产，去种土豆。劳动才能创造价值。人要是不出去种土豆，当船舱里的食物消耗完，账簿了，再多的收入也是要饿死。

```
区块链也解决不了，链下的问题。比如，b给a的土豆是有毒的呢？
更解决不了 粮食问题，必定土豆不能从账簿里出来。

区块链 有效的解决，相互不信任的情况下，取得信任的问题。也很公平的保证人人平等。
也可以有效的 实现交易环节的 货币问题。（比特币这个链）。

```

几个疑问？

为啥船员不用纸币？

谁去负责印刷纸币？这还会导致一个中心的问题。


为啥船员不用黄金？

那就下船去开采黄金，用黄金去换土豆。开采黄金也可以实现人人平等，因为大家都可以去开采。

但是大家想想，这跟接魔方有区别吗？
开采黄金，矿工下矿井去挖黄金。
开采区块，矿工计算魔方 获得比特币奖励。



# 那么这个程序如何设计？

怎么把信息广播给邻居？

怎么确定 解魔方算法？

怎么确认这比收入是谁的？

























